/*
* rwdImageMaps vanilla Function v1.4
*
* Allows image maps to be used in a responsive design by recalculating the area coordinates to match the actual image size on load and window.resize
*
* Copyright (c) 2019 Luca Kiebel
* https://github.com/lucakiebel/vanilla-rwdImageMaps
* https://luca-kiebel.de
* Licensed under the MIT license
*/
function rwdImageMaps(t,e){var r;if(e){r=document.querySelectorAll(t);for(var i=0;i<elements.length;i++)n(element[i])}else{if(r=document.querySelector(t),void 0===elment.getAttribute("usemap"))return;n(element)}function n(o){o.addEventListener("load",function(t){var i=o.getAttribute("width"),n=o.getAttribute("height");if(!i||!n){var e=new Image;e.src=o.getAttribute("src"),i||(i=e.width),n||(n=e.height)}var a=o.width/100,s=o.height/100,r=o.getAttribute("usemap").replace("#",""),u="coords";Array.from(document.querySelector('map[name="'+r+'"]').querySelectorAll("area")).forEach(function(){this.dataset[u]||(this.dataset[u]=this.getAttribute(u));for(var t=this.dataset[u].split(","),e=new Array(t.length),r=0;r<e.length;++r)e[r]=r%2==0?parseInt(t[r]/i*100*a):parseInt(t[r]/n*100*s);this.setAttribute(u,e.toString())}),o.setAttribute("src",o.getAttribute("src"))})}window.addEventListener("resize",function(){n(r)}),window.dispatchEvent(new Event("resize"))}
