/*
* rwdImageMaps vanilla Function v1.4
*
* Allows image maps to be used in a responsive design by recalculating the area coordinates to match the actual image size on load and window.resize
*
* Copyright (c) 2019 Luca Kiebel
* https://github.com/lucakiebel/vanilla-rwdImageMaps
* https://luca-kiebel.de
* Licensed under the MIT license
*/
function rwdImageMaps(t){var e=document.querySelectorAll(t);window.addEventListener("resize",function(){!function(t){for(var e=0;e<t.length;e++){var h=t[e];h.addEventListener("load",function(t){var i=h.getAttribute("width"),a=h.getAttribute("height");if(!i||!a){var e=new Image;e.src=h.getAttribute("src"),i||(i=e.width),a||(a=e.height)}var n=h.width/100,s=h.height/100,r=h.getAttribute("usemap").replace("#",""),o="coords";Array.from(document.querySelector('map[name="'+r+'"]').querySelectorAll("area")).forEach(function(){this.dataset[o]||(this.dataset[o]=this.getAttribute(o));for(var t=this.dataset[o].split(","),e=new Array(t.length),r=0;r<e.length;++r)e[r]=r%2==0?parseInt(t[r]/i*100*n):parseInt(t[r]/a*100*s);this.setAttribute(o,e.toString())}),h.setAttribute("src",h.getAttribute("src"))})}}(e)}),window.dispatchEvent(new Event("resize"))}
